<Window x:Class="PhanThanhVuongWPF.CustomerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PhanThanhVuongWPF"
        mc:Ignorable="d"
        Title="Customer Dashboard" Height="650" Width="900" WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <!-- Button Styles -->
        <Style x:Key="ActionButton" TargetType="Button">
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Background" Value="#3B82F6"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Style.Resources>
                <Style TargetType="Border">
                    <Setter Property="CornerRadius" Value="4"/>
                </Style>
            </Style.Resources>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#2563EB"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="TabItemStyle" TargetType="TabItem">
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#4B5563"/>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Foreground" Value="#3B82F6"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <!-- DataGrid Styles -->
        <Style TargetType="DataGrid">
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E5E7EB"/>
            <Setter Property="GridLinesVisibility" Value="All"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#F3F4F6"/>
            <Setter Property="VerticalGridLinesBrush" Value="#F3F4F6"/>
            <Setter Property="RowBackground" Value="White"/>
            <Setter Property="AlternatingRowBackground" Value="#F9FAFB"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="SelectionMode" Value="Single"/>
        </Style>
        
        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Background" Value="#F3F4F6"/>
            <Setter Property="BorderBrush" Value="#E5E7EB"/>
            <Setter Property="BorderThickness" Value="0,0,1,1"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>
        
        <!-- Profile Info Styles -->
        <Style x:Key="ProfileLabelStyle" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#4B5563"/>
            <Setter Property="Margin" Value="0,8,5,8"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <Style x:Key="ProfileValueStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#111827"/>
            <Setter Property="Margin" Value="0,8,0,8"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#1F2937"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
        </Style>
        
        <Style x:Key="ProfileCardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#E5E7EB"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="0,0,0,20"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#3B82F6" Padding="20,15">
            <Grid>
                <TextBlock Text="Hotel Management System" Foreground="White" FontSize="20" FontWeight="Bold"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding CurrentCustomer.CustomerFullName}" Foreground="White" FontSize="14" VerticalAlignment="Center" Margin="0,0,15,0"/>
                    <Button Content="Logout" Command="{Binding LogoutCommand}" CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}" Style="{StaticResource ActionButton}" Background="#2563EB"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Content -->
        <TabControl Grid.Row="1" Margin="20" BorderThickness="0">
            <TabControl.Resources>
                <Style TargetType="TabItem" BasedOn="{StaticResource TabItemStyle}"/>
            </TabControl.Resources>
            
            <!-- Profile Tab -->
            <TabItem Header="My Profile">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Profile actions -->
                    <Border Grid.Row="0" Background="White" Padding="0,10,0,15">
                        <Button Content="Update Profile" Command="{Binding UpdateProfileCommand}" 
                                Style="{StaticResource ActionButton}" HorizontalAlignment="Left"/>
                    </Border>
                    
                    <!-- Profile Details -->
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                        <StackPanel>
                            <!-- Personal Information Card -->
                            <Border Style="{StaticResource ProfileCardStyle}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    
                                    <TextBlock Grid.Row="0" Text="Personal Information" Style="{StaticResource SectionHeaderStyle}"/>
                                    
                                    <Grid Grid.Row="1">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="150"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        
                                        <!-- Customer ID -->
                                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Customer ID:" Style="{StaticResource ProfileLabelStyle}"/>
                                        <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding CurrentCustomer.CustomerID}" Style="{StaticResource ProfileValueStyle}"/>
                                        
                                        <!-- Full Name -->
                                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Full Name:" Style="{StaticResource ProfileLabelStyle}"/>
                                        <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding CurrentCustomer.CustomerFullName}" Style="{StaticResource ProfileValueStyle}"/>
                                        
                                        <!-- Email -->
                                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Email Address:" Style="{StaticResource ProfileLabelStyle}"/>
                                        <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding CurrentCustomer.EmailAddress}" Style="{StaticResource ProfileValueStyle}"/>
                                        
                                        <!-- Telephone -->
                                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Telephone:" Style="{StaticResource ProfileLabelStyle}"/>
                                        <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding CurrentCustomer.Telephone}" Style="{StaticResource ProfileValueStyle}"/>
                                        
                                        <!-- Birthday -->
                                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Birthday:" Style="{StaticResource ProfileLabelStyle}"/>
                                        <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding CurrentCustomer.CustomerBirthday, StringFormat={}{0:dd/MM/yyyy}}" Style="{StaticResource ProfileValueStyle}"/>
                                    </Grid>
                                </Grid>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </TabItem>
            
            <!-- Bookings Tab -->
            <TabItem Header="My Bookings">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Booking actions -->
                    <Border Grid.Row="0" Background="White" Padding="0,10,0,15">
                        <Button Content="Book a Room" Command="{Binding AddBookingCommand}" 
                                Style="{StaticResource ActionButton}" HorizontalAlignment="Left"/>
                    </Border>
                    
                    <!-- Bookings DataGrid -->
                    <DataGrid ItemsSource="{Binding Bookings}" AutoGenerateColumns="False" Grid.Row="1">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Booking ID" Binding="{Binding BookingID}" Width="80"/>
                            <DataGridTextColumn Header="Room Number" Binding="{Binding RoomNumber}" Width="100"/>
                            <DataGridTextColumn Header="Room Type" Binding="{Binding RoomTypeName}" Width="120"/>
                            <DataGridTextColumn Header="Start Date" Binding="{Binding StartDate, StringFormat={}{0:dd/MM/yyyy}}" Width="100"/>
                            <DataGridTextColumn Header="End Date" Binding="{Binding EndDate, StringFormat={}{0:dd/MM/yyyy}}" Width="100"/>
                            <DataGridTextColumn Header="Duration (days)" Binding="{Binding Duration}" Width="110"/>
                            <DataGridTextColumn Header="Total Price" Binding="{Binding TotalPrice, StringFormat={}{0:N0} đ}" Width="120"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
